---
alwaysApply: true
---

# Caddy Orchestrator Project Structure

## Project Overview

Caddy Orchestrator is a management interface for Caddy server instances with a Go backend and React TypeScript frontend.

## Key Architecture Components

### Backend (Go)
- [cmd/server/main.go](mdc:cmd/server/main.go) - Main server entry point
- [internal/api/](mdc:internal/api/) - API handlers and routes
- [internal/caddy/](mdc:internal/caddy/) - Caddy client and manager
- [internal/storage/](mdc:internal/storage/) - SQLite database layer
- [internal/templates/](mdc:internal/templates/) - Configuration templates

### Frontend (React + TypeScript)
- [src/main.tsx](mdc:src/main.tsx) - Application entry point
- [src/App.tsx](mdc:src/App.tsx) - Root component
- [src/pages/](mdc:src/pages/) - Page components
- [src/components/](mdc:src/components/) - Reusable components
- [src/hooks/](mdc:src/hooks/) - Custom React hooks
- [src/lib/](mdc:src/lib/) - Utility libraries
- [src/types/](mdc:src/types/) - TypeScript type definitions (import from [index.ts](mdc:src/types/index.ts))

## Code Style Guidelines

### General Rules
- No unnecessary comments in code
- Commit messages in English, short and straight
- Clean, maintainable code following TypeScript/Go best practices

### TypeScript
- Always use `import type` for type imports
- Import types from `@/types` barrel export only
- See [typescript-types.mdc](mdc:.cursor/rules/typescript-types.mdc) for detailed type rules

### Component Organization
- UI components in [src/components/ui/](mdc:src/components/ui/) (shadcn/ui)
- Feature components organized by domain (instances, config, upstreams)
- Custom hooks in [src/hooks/](mdc:src/hooks/)

## API Communication

API client located at [src/lib/api-client.ts](mdc:src/lib/api-client.ts)

All API interactions should use the centralized client with proper error handling and type safety.

## State Management

Custom hooks for domain-specific state:
- [useInstances.ts](mdc:src/hooks/useInstances.ts) - Instance management
- [useConfig.ts](mdc:src/hooks/useConfig.ts) - Configuration state
- [useUpstreams.ts](mdc:src/hooks/useUpstreams.ts) - Upstream monitoring
- [useTemplates.ts](mdc:src/hooks/useTemplates.ts) - Template management

## Documentation References

- [docs/API.md](mdc:docs/API.md) - API documentation
- [docs/CONFIGURATION.md](mdc:docs/CONFIGURATION.md) - Configuration guide
- [docs/DEPLOYMENT.md](mdc:docs/DEPLOYMENT.md) - Deployment instructions
- [README.md](mdc:README.md) - Project overview
